name = "stock-analysier-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

[vars]
FRONTEND_URL = "http://localhost:3000"

[[d1_databases]]
binding = "DB"
database_name = "stock-analysier-db"
database_id = "5dcb8878-f09c-45b3-aaaa-8b00616136ee"

# Development settings
[dev]
port = 8787
local_protocol = "http"

# Production environment
# Update FRONTEND_URL after deploying to Cloudflare Pages
[env.production]
vars = { FRONTEND_URL = "https://stock-analysier.pages.dev" }
